# 守护进程

以守护进程模式运行的命令行参数为`-d`/`--daemon`。
```shell
./pingora -d -c pingora.yaml
```

当一个Pingora服务器配置为以守护进程方式运行，启动后会将自己移到后台，以指定的用户和用户组下运行。<br>
`pid_file`选项用于在这种情况下跟踪守护进程的PID。

守护进程允许服务器执行特权操作(如加载秘钥)，然后在接受请求前切换到非特权用户。

此过程发生于`run_forever()`调用中。由于启动守护进程时需要执行`fork()`，一些在此之前创建的东西(比如线程)可能会丢失。

